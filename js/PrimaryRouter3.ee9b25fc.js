(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["PrimaryRouter3"],{"039a":function(t,e,a){t.exports=a.p+"img/-preview3.05b02b9e.png"},"08e0":function(t,e,a){"use strict";var i=a("7c32"),s=a.n(i);s.a},"0fc4":function(t,e,a){"use strict";var i=a("3ff7"),s=a.n(i);s.a},1128:function(t,e,a){"use strict";var i=a("3745"),s=a.n(i);s.a},"18b4":function(t,e,a){"use strict";var i=a("db17"),s=a.n(i);s.a},"1b2e":function(t,e,a){},"219a":function(t,e,a){"use strict";var i=a("eb69"),s=a.n(i);s.a},3745:function(t,e,a){},"3a3c":function(t,e,a){t.exports=a.p+"img/-edit2.117f2892.png"},"3a5b":function(t,e,a){"use strict";var i=a("a398"),s=a.n(i);s.a},"3c88":function(t,e,a){"use strict";var i=a("9099"),s=a.n(i);s.a},"3ff7":function(t,e,a){},5588:function(t,e,a){t.exports=a.p+"img/logo.fbea7cb8.png"},"7c32":function(t,e,a){},"85fc":function(t,e,a){t.exports=a.p+"img/xuanchaun.a58efe56.png"},9099:function(t,e,a){},a398:function(t,e,a){},ad91:function(t,e,a){t.exports=a.p+"img/-preview3-blue.f41c8b04.png"},ca17:function(t,e,a){"use strict";var i=a("1b2e"),s=a.n(i);s.a},db17:function(t,e,a){},eb69:function(t,e,a){},eec9:function(t,e,a){t.exports=a.p+"img/-edit2-blue.b297ad39.png"},ffbd:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"Homepage",on:{mouseenter:function(e){t.solutionsDivImgBlean=!1}}},[a("div",{staticClass:"tableArea"},[a("div",{staticClass:"tableAreaTop"},[a("TopEcharts",{staticClass:"visitorToday",attrs:{obj:t.today_visitor,options:t.visitorToday}}),a("TopEcharts",{staticClass:"historicalVisitor",attrs:{obj:t.total_visitor,options:t.historicalVisitor}}),a("TopEcharts",{staticClass:"projectTotal",attrs:{obj:t.projectSum,options:t.projectTotal}}),a("TopEcharts",{staticClass:"deviceTotal",attrs:{obj:t.shareSum,options:t.deviceTotal}})],1),a("div",{staticClass:"tableAreaIn"},[a("div",{staticClass:"deviceAndVisitor"},[a("OriginAndFabric",{staticClass:"deviceProportion",attrs:{obj:t.deviceProportionObj,options:t.deviceProportion}}),a("OriginAndFabric",{staticClass:"distribution",attrs:{obj:t.distributionObj,options:t.distribution}})],1),a("div",{staticClass:"happening"},[a("Happening",{attrs:{options:t.happening}})],1),a("div",{staticClass:"heatAndData"},[a("div",{staticClass:"heat"},[a("Heat",{attrs:{imitationData:t.imitationData}})],1),a("OriginAndFabric",{staticClass:"sevenDaysData",attrs:{obj:t.sevenDaysDataObj,options:t.sevenDaysData}})],1)]),a("ShareIt",{staticClass:"shareIt"})],1),a("div",{staticClass:"visualization"},[a("SearchItem")],1)]),t.indexDialog?a("MainDialog"):t._e()],1)},s=[],o=(a("b0c0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"visitorToday",attrs:{id:"visitorToday"}},[a("v-chart",{staticStyle:{width:"16.7vw",height:"10vh"},attrs:{options:t.options}}),a("div",{staticClass:"echartsAreaText"},[a("span",{staticClass:"echartsAreaTotal"},[t._v(t._s(t.obj.amount))]),t._e(),a("span",{staticClass:"echartsAreaTxt"},[t._v(t._s(t.obj.text))])])],1)}),n=[],r=a("9ca8"),l={components:{"v-chart":r["a"]},props:["obj","options"]},c=l,h=(a("08e0"),a("0c7c")),u=Object(h["a"])(c,o,n,!1,null,"b768d0c2",null),p=u.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"echartsDivTitle"},[t._v(t._s(t.obj.text))]),a("v-chart",{staticStyle:{width:"16.7vw",height:"26.5vh","padding-top":"2vh"},attrs:{options:t.options}})],1)},v=[],d={components:{"v-chart":r["a"]},props:["obj","options"]},g=d,f=(a("3a5b"),Object(h["a"])(g,m,v,!1,null,"09f61841",null)),b=f.exports,y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:{fn:t.searchInputBlur},expression:"{fn:searchInputBlur}"}],staticClass:"searchInput"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInputVal,expression:"searchInputVal"}],class:{inputBl:t.inputBl},attrs:{type:"text",placeholder:"搜索可视化"},domProps:{value:t.searchInputVal},on:{keyup:[t.searchInputKeyup,function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchClick(e)}],focus:t.searchInputFocus,input:function(e){e.target.composing||(t.searchInputVal=e.target.value)}}}),i("span",{staticClass:"searchBtn biFont icon-search vCenter",on:{click:t.searchClick}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.HomepageListBl,expression:"HomepageListBl"}],staticClass:"HomepageList"},[i("EasyScroll",{attrs:{barOption:t.srcoll}},[i("ul",t._l(t.HomepageListArr,(function(e,a){return i("li",{key:a,on:{click:function(a){return t.HomepageListClick(e)}}},[t._v(t._s(e))])})),0)])],1)]),t._l(t.solutionsArr,(function(e,s){return i("div",{key:s,staticClass:"solutionsDiv"},[i("div",{staticClass:"solutionsDivImg",on:{mouseenter:function(e){t.solutionsBlObj[s].solutionsDivImgBlean=!0}}},[i("img",{attrs:{src:e.screenShot,alt:""}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.solutionsBlObj[s].solutionsDivImgBlean,expression:"solutionsBlObj[index].solutionsDivImgBlean"}],staticClass:"hoverDiv",on:{mouseleave:function(e){t.solutionsBlObj[s].solutionsDivImgBlean=!1}}},[i("img",{directives:[{name:"show",rawName:"v-show",value:!t.solutionsBlObj[s].hoverDiv1Img1Blean,expression:"!solutionsBlObj[index].hoverDiv1Img1Blean"}],staticClass:"hoverDivImg2",attrs:{src:a("ad91"),alt:""},on:{mouseleave:function(e){t.solutionsBlObj[s].hoverDiv1Img1Blean=!0},click:function(a){return t.previewSreen(e)}}}),i("img",{directives:[{name:"show",rawName:"v-show",value:t.solutionsBlObj[s].hoverDiv1Img1Blean,expression:"solutionsBlObj[index].hoverDiv1Img1Blean"}],staticClass:"hoverDivImg2",attrs:{src:a("039a"),alt:""},on:{mouseenter:function(e){t.solutionsBlObj[s].hoverDiv1Img1Blean=!1}}}),i("img",{directives:[{name:"show",rawName:"v-show",value:!t.solutionsBlObj[s].hoverDiv1Img2Blean,expression:"!solutionsBlObj[index].hoverDiv1Img2Blean"}],staticClass:"hoverDivImg1",attrs:{src:a("eec9")},on:{mouseleave:function(e){t.solutionsBlObj[s].hoverDiv1Img2Blean=!0},click:function(a){return t.toScreen(e.id,e.name)}}}),i("img",{directives:[{name:"show",rawName:"v-show",value:t.solutionsBlObj[s].hoverDiv1Img2Blean,expression:"solutionsBlObj[index].hoverDiv1Img2Blean"}],staticClass:"hoverDivImg1",attrs:{src:a("3a3c")},on:{mouseenter:function(e){t.solutionsBlObj[s].hoverDiv1Img2Blean=!1}}})])]),i("div",{staticClass:"solutionsDivTxt"},[i("h5",[t._v(t._s(e.name))]),i("span",[t._v(t._s(e.time))])])])}))],2)},w=[],x=(a("99af"),a("c975"),a("d3b7"),a("ac1f"),a("1276"),a("96cf"),a("1da1")),_={data:function(){return{searchImgBl:!0,HomepageListBl:!1,inputBl:!1,searchInputVal:"",solutionsArr:[],cacheSolutionsArr:[],solutionsBlObj:{0:{solutionsDivImgBlean:!1,hoverDiv1Img1Blean:!0,hoverDiv1Img2Blean:!0},1:{solutionsDivImgBlean:!1,hoverDiv1Img1Blean:!0,hoverDiv1Img2Blean:!0},2:{solutionsDivImgBlean:!1,hoverDiv1Img1Blean:!0,hoverDiv1Img2Blean:!0}},HomepageListArr:[]}},computed:{vwToPx:function(){return this.$store.getters["main/vwToPx"]},srcoll:function(){return{barColor:"rgba(149, 160, 182)",barWidth:6,railColor:"rgba(71, 85, 102)",barMarginRight:0,barOpacityMin:.3,zIndex:"auto",vBarHeight:"20vh",borderWidth:this.vwToPx(.12)}}},methods:{init:function(){var t=this;this.$get("api/searchProject?num=3").then((function(e){"000000"==e.code&&(t.solutionsArr=e.data,console.log(t.solutionsArr),t.cacheSolutionsArr=e.data)}))},searchClick:function(){var t=this,e=this,a=function(){t.$get("api/searchProject?search=".concat(t.searchInputVal)).then((function(e){"000000"==e.code&&(t.solutionsArr=e.data)}));var a=!1,i=[];localStorage.getItem("searchArr")&&(i=localStorage.getItem("searchArr").split(","));for(var s=0;s<i.length;s++)e.searchInputVal==i[s]&&(a=!0);a||i.push(e.searchInputVal),localStorage.searchArr=i};""!=e.searchInputVal&&a()},searchInputFocus:function(){var t=this,e=this.searchInputVal;if(localStorage.getItem("searchArr")){this.HomepageListArr=localStorage.getItem("searchArr").split(","),this.HomepageListBl=!0,this.inputBl=!0;var a=localStorage.getItem("searchArr").split(","),i=[];if(""!=e){for(var s=0;s<a.length;s++)-1!=a[s].indexOf(e)&&i.push(a[s]);t.HomepageListArr=i,t.HomepageListArr.length<1?t.HomepageListBl=!1:t.HomepageListBl=!0}else t.HomepageListArr=localStorage.getItem("searchArr").split(",")}else this.inputBl=!0},searchInputBlur:function(){this.inputBl=!1,this.HomepageListBl=!1,this.searchClick()},searchInputKeyup:function(){var t=this,e=this.searchInputVal;if(localStorage.getItem("searchArr")){var a=localStorage.getItem("searchArr").split(","),i=[];if(""!=e){for(var s=0;s<a.length;s++)-1!=a[s].indexOf(e)&&i.push(a[s]);t.HomepageListArr=i,t.HomepageListArr.length<1?t.HomepageListBl=!1:t.HomepageListBl=!0}else t.HomepageListArr=localStorage.getItem("searchArr").split(",")}},HomepageListClick:function(t){var e=this;t&&(this.searchInputVal=t,this.inputBl=!1,this.HomepageListBl=!1,this.$get("api/searchProject?search="+t).then((function(t){"000000"==t.code&&(e.solutionsArr=t.data)})))},toScreen:function(t,e){var a=this;localStorage.setItem("fatherProjectId",t),localStorage.setItem("fatherProjectName",e),localStorage.getItem("fatherProjectId")&&a.$router.push({name:"screen",params:{id:localStorage.getItem("fatherProjectId")}})},previewSreen:function(t){var e=this,a=t.id;function i(t){return s.apply(this,arguments)}function s(){return s=Object(x["a"])(regeneratorRuntime.mark((function t(e){var a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o(e);case 2:return a=t.sent,t.next=5,n(a);case 5:i=t.sent,i&&(s="".concat(window.location.host,"/previewPages?share_sn=").concat(i.share_sn,"&password=").concat(i.password),window.open(window.location.protocol+"//"+s,"_blank"));case 7:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}function o(t){return new Promise((function(a,i){e.$get("api/project",{projectId:t}).then((function(t){"000000"==t.code?a(t.data[0]["id"]):(e.tips.show([t.err_msg]),i(t.err_msg))})).catch((function(t){console.error(t)}))}))}function n(t){return new Promise((function(a,i){var s={project_sn:t,share_type:1,is_pwd:0};e.$get("api/shareUnique",s).then((function(t){"000000"==t.code?a(t.data):i(t.err_msg)})).catch((function(t){e.tips.show(["获取预览链接失败"]),console.error(t)}))}))}i(a)}},mounted:function(){this.init()},watch:{searchInputVal:function(t){""==t&&(this.solutionsArr=this.cacheSolutionsArr)}}},S=_,C=(a("3c88"),Object(h["a"])(S,y,w,!1,null,"6ce9571f",null)),I=C.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"echartsDivTitle"},[t._v("访客分布")]),t.obj.mapMovingStyleBl?a("div",{staticClass:"mapMoving",style:[t.obj.mapMovingStyle]},[a("div",{staticClass:"mapMovingText"},[a("span",[a("span",[t._v(t._s(t.obj.mapMovingObj.project_name))])]),a("div",{staticClass:"rimLeftTop"}),a("div",{staticClass:"rimLeftBottom"}),a("div",{staticClass:"rimRightTop"}),a("div",{staticClass:"rimRightBottom"}),a("span",{staticClass:"browseInformation"},[a("span",{staticClass:"square"}),a("span",[t._v(t._s(t.obj.mapMovingObj.browser))])]),a("span",{staticClass:"browseInformation"},[a("span",{staticClass:"square"}),a("span",[t._v(t._s(t.obj.mapMovingObj.device))])]),a("span",{staticClass:"browseInformation"},[a("span",{staticClass:"square"}),a("span",[t._v(t._s(t.obj.mapMovingObj.address))])]),t.obj.mapMovingObj.time?a("span",{staticClass:"browseInformation"},[a("span",{staticClass:"square"}),a("span",[t._v("时间："+t._s(t.obj.mapMovingObj.time))])]):t._e()]),a("div",{staticClass:"triangle"})]):t._e(),a("v-chart",{ref:"happening",staticStyle:{width:"34.2vw",height:"54vh"},attrs:{options:t.options}})],1)},B=[];a("a434");var D=52.35987755982988;function T(t,e){var a=Math.sqrt(t*t+e*e)+2e-5*Math.sin(e*D),i=Math.atan2(e,t)+3e-6*Math.cos(t*D),s=a*Math.cos(i)+.0065,o=a*Math.sin(i)+.006;return[s,o]}var O={components:{"v-chart":r["a"]},props:["options"],data:function(){return{obj:{mapMovingStyle:{top:"12px",left:"0px"},mapMovingStyleBl:!1,mapMovingObj:{project_name:"",address:"访客地点",browser:"访客浏览器",device:"访客设备",time:"访客时间"}}}},watch:{"obj.mapMovingObj":{handler:function(t){var e=this;t&&setTimeout((function(){e.obj.mapMovingStyleBl=!1,e.options.series[0].data=[]}),5e3)},immediate:!0}},sockets:{share_Push:function(t){var e=this,a=JSON.parse(t).data;if(a.latlag[0]){a.latlag=a.latlag.split(","),a.latlag=T(a.latlag[0],a.latlag[1]);for(var i=function(t,a){var i=e.$refs.happening.convertToPixel({seriesName:"访客"},[t,a]);e.obj.mapMovingStyle.top="calc("+i[1]+"px - 17.3vh)",e.obj.mapMovingStyle.left="calc("+i[0]+"px - 7.3vw)"},s=!1,o=0;o<e.options.series[1].data.length;o++)if(e.options.series[1].data[o].value[0]==a.latlag[0]&&e.options.series[1].data[o].value[1]==a.latlag[1]){s=!0;var n=e.options.series[1].data[o];return n.value[2]=n.value[2]+1,e.options.series[1].data.splice(o,1),e.options.series[1].data.push(n),void(e.obj.mapMovingStyleBl||(e.obj.mapMovingObj=a,e.options.series[0].data.push(n),i(a.latlag[0],a.latlag[1]),e.obj.mapMovingStyleBl=!0))}return s?void 0:(a.latlag.push(1),e.options.series[1].data.push({name:a.siteName,value:a.latlag}),void(e.obj.mapMovingStyleBl||(e.mapMovingObj=a,e.options.series[0].data.push({name:a.siteName,value:a.latlag}),i(a.latlag[0],a.latlag[1]),e.obj.mapMovingStyleBl=!0)))}}}},L=O,A=(a("1128"),Object(h["a"])(L,j,B,!1,null,"586adb5c",null)),M=A.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"echartsDivTitle"},[t._v("仪表盘热度排行")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tooltipBlCtrl,expression:"tooltipBlCtrl"}],staticClass:"imitationEchartsTooltip",style:{top:t.tooltipTop,left:t.tooltipLeft}},[t._v(" "+t._s(t.imitationObj.tooltipText)),a("br"),t._v(t._s(t.tooltipSon)+" ")]),a("div",{staticClass:"imitationEcharts"},[a("EasyScroll",{attrs:{barOption:t.srcoll}},t._l(t.imitationData,(function(e,i){return a("div",{key:i,staticClass:"echartsSon"},[a("span",{staticClass:"echartsName"},[a("span",{class:{echartsRankingNum1:1==i,echartsRankingName:!0}},[t._v(t._s(e.name))])]),a("span",{staticClass:"echartsItem"},[a("span",{class:{echartsDataItem:!0,minNumberStyle:0==e.number,echartsDataItem1:0==i},style:{width:e.width},on:{mousemove:function(e){return t.VIPRankingMousemove(i+1,e)},mouseleave:function(e){t.tooltipBl=!1},mouseenter:function(e){t.tooltipBl=!0}}})]),a("span",{class:{echartsRight:!0,echartsRight1:0==i&&0!=e.number}},[t._v(t._s(e.number)+" ")])])})),0)],1)])},H=[],P={props:["imitationData"],data:function(){return{srcoll:{barColor:"rgba(149, 160, 182)",barWidth:6,railColor:"rgba(71, 85, 102)",barMarginRight:0,barOpacityMin:.3,horizrailenabled:!1,vBarHeight:"20vh"},imitationObj:{tooltipText:"仪表盘热度排行"},tooltipSon:"",itemOffsetX:0,winX:0,winY:0,winWidth:window.innerWidth,imitationVIPRankingMaxVal:100,tooltipBl:!1,tooltipIndex:1,winHeight:window.innerHeight}},methods:{VIPRankingMousemove:function(t,e){this.tooltipSon="".concat(this.imitationData[t-1].name,"：").concat(this.imitationData[t-1].number),this.winX=e.clientX,this.winY=e.clientY,this.tooltipIndex=t,this.itemOffsetX=e.offsetX}},computed:{tooltipTop:function(){return this.winY>.37*this.winHeight?this.winY-.07*this.winHeight+"px":this.winY+.03*this.winHeight+"px"},tooltipLeft:function(){return this.itemOffsetX>.084*this.winWidth?this.winX-.04*this.winWidth+"px":this.winX+"px"},tooltipBlCtrl:function(){return!!(parseInt(this.tooltipTop)>.18*this.winHeight&&this.tooltipBl)}}},E=P,$=(a("18b4"),Object(h["a"])(E,k,H,!1,null,"1c2977e8",null)),V=$.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"shareIt"},[t._m(0),a("div",{staticClass:"shareItTable"},[t._m(1),a("div",{staticClass:"shareItTableTd"},[a("EasyScroll",{attrs:{barOption:t.srcoll},on:{xScrollToEnd:t.xScrollToEndFn}},[a("table",[a("tr",[a("th",{staticStyle:{height:"0"}}),a("th",{staticStyle:{height:"0"}}),a("th",{staticStyle:{height:"0"}}),a("th",{staticStyle:{height:"0"}}),a("th",{staticStyle:{height:"0"}})]),t._l(t.tableArr,(function(e,i){return a("tr",{key:i},[a("td",{staticStyle:{color:"#28b3fc"}},[t._v(" "+t._s(e.repor))]),a("td",{staticStyle:{color:"#fff"}},[t._v(" "+t._s(e.openTimes))]),a("td",{style:e.blean?"color:#00f8ff;":"color:rgb(227,105,132);"},[t._v(" "+t._s(e.status))]),a("td",{staticStyle:{color:"#00f8ff"}},[t._v(" "+t._s(e.createTime))]),a("td",{staticStyle:{color:"rgb(227,105,132)"}},[t._v(" "+t._s(e.invalidTime))])])}))],2)])],1)])])},z=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"shareItTitle"},[a("span",[t._v("分享列表")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"shareItTableTh"},[a("table",[a("tr",[a("th",[t._v("报表")]),a("th",[t._v("打开次数")]),a("th",[t._v("状态")]),a("th",[t._v("创建时间")]),a("th",[t._v("失效时间")])])])])}],F={data:function(){return{srcoll:{barColor:"rgba(149, 160, 182)",barWidth:6,railColor:"rgba(71, 85, 102)",barMarginRight:0,barOpacityMin:.3,horizrailenabled:!1,vBarHeight:"20vh"},tableArr:[],shareListPage:1,shareListCount:2,shareListBl:!0}},methods:{xScrollToEndFn:function(){this.shareListBl&&(this.shareListBl=!1,this.shareListPage+1<=this.shareListCount&&(this.shareListPage+=1,this.getShareListFn()))},getShareListFn:function(){var t=this;this.$get("api/shareList?page=".concat(this.shareListPage,"&pagesize=10")).then((function(e){if("000000"==e.code&&(t.shareListBl=!0,e.data)){e.data.count&&(t.shareListCount=e.data.count);for(var a=0;a<e.data.share_data.length;a++)t.tableArr.push({repor:e.data.share_data[a].name,openTimes:e.data.share_data[a].number,status:e.data.share_data[a].state,blean:!0,createTime:e.data.share_data[a].create_time,invalidTime:e.data.share_data[a].valid_time})}}))}},mounted:function(){this.getShareListFn()}},R=F,W=(a("0fc4"),Object(h["a"])(R,N,z,!1,null,"489c3330",null)),X=W.exports,G=(a("3139"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dialog"},[i("div",{staticClass:"content"},[i("div",{staticClass:"title"},[t._m(0),i("div",{staticClass:"right",on:{click:t.close}},[i("i",{staticClass:"biFont icon-delete2"})])]),t._m(1),i("div",{staticClass:"img",on:{click:t.toPirce}},[i("img",{attrs:{src:a("85fc")}})]),i("hr"),i("span",{staticClass:"next",on:{click:t.close}},[t._v("下次再说")])])])}),q=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"left"},[i("img",{attrs:{src:a("5588")}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"describe"},[a("p",[t._v("实时大数据可视化分析平台V2.0")]),a("p",[t._v("兼容多种设备，支持物联网设备全方位展示，")]),a("p",[t._v("多元化数据来源，随时随地智能化管理")])])}],Y={methods:{close:function(){this.$parent.close(!1)},toPirce:function(){this.$router.push("/renew")}}},J=Y,K=(a("219a"),Object(h["a"])(J,G,q,!1,null,"7de5d582",null)),U=K.exports,Z={name:"webMain",components:{TopEcharts:p,OriginAndFabric:b,Happening:M,Heat:V,SearchItem:I,ShareIt:X,MainDialog:U},data:function(){return{indexDialog:!0,visitorToday:{grid:{y:60,x2:10,x:10,y2:0},visualMap:{show:!1,min:1,max:56,dimension:0,inRange:{color:["#1d7cfa","#00f8ff","#f86e81"]}},xAxis:{data:function(){var t=[],e=56;while(e--)t.push(Math.round(1e3*Math.random()));return t}(),show:!1,interval:!1,axisLabel:{fontSize:0},axisTick:{show:!1},axisLine:{show:!1}},yAxis:{default:!1,interval:!1,axisLabel:{inside:!1,textStyle:{color:"#fff"}},axisTick:{show:!1},axisLine:{show:!1},axisType:{show:!1}},dataZoom:[{type:"inside"}],series:[{type:"bar",itemStyle:{normal:{color:"rgb(13,148,158)"},emphasis:{}},data:function(){var t=[],e=56;while(e--)t.push(Math.round(1e3*Math.random()));return t}()}]},today_visitor:{text:"今日访客",amount:0,addAmount:0},historicalVisitor:{grid:{y:60,x2:10,x:10,y2:0},xAxis:{type:"category",boundaryGap:!1,show:!1,axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1}},yAxis:{show:!1,axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1}},series:[{symbol:"none",data:[820,932,901,934,1290,1330,1320,998,345,489,123,789,121],type:"line",smooth:!0,lineStyle:{color:{type:"linear",x:0,y:0,x2:1,y2:0,colorStops:[{offset:0,color:"rgba(29,124,250,1)"},{offset:.5,color:"rgba(0,248,255,1)"},{offset:1,color:"rgba(238,116,114,1)"}],globalCoord:!1}},areaStyle:{color:{type:"linear",x:0,y:0,x2:1,y2:0,colorStops:[{offset:0,color:"rgba(29,124,250,0.3)"},{offset:.5,color:"rgba(0,248,255,0.3)"},{offset:1,color:"rgba(238,116,114,0.3)"}],globalCoord:!1}}}]},total_visitor:{text:"访客总数",amount:0,addAmount:0},projectTotal:{grid:{y:60,x2:10,x:10,y2:0},xAxis:[{type:"category",boundaryGap:!1,show:!1,axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1}}],visualMap:{show:!1,min:1,max:9,dimension:0,inRange:{color:["#1d7cfa","#00f8ff","#f86e81"]}},yAxis:[{type:"value",boundaryGap:!1,show:!1,axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1}}],series:[{barWidth:1,name:"蒸发量",type:"bar",data:[12.9,22,13,14.5,16.3,10.2,20.3,16.3,10.2,20.3],itemStyle:{normal:{color:"rgb(8,179,197)"}}},{data:[12.9,22,13,14.5,16.3,10.2,20.3,16.3,10.2,20.3],smooth:!0,type:"line",symbol:"circle",symbolSize:6,showSymbol:!0,itemStyle:{normal:{color:"rgb(8,179,197)"}}}]},projectSum:{text:"仪表盘总数",amount:0,addAmount:0},deviceTotal:{grid:{y:60,x2:10,x:10,y2:0},xAxis:{type:"category",boundaryGap:!1,show:!1,axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1}},yAxis:{type:"value",boundaryGap:!1,show:!1,axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1}},series:[{symbol:"none",data:[10,12,9,13,10,8,13],type:"line",smooth:!0,itemStyle:{normal:{lineStyle:{color:"rgb(13,148,158)"}}}}]},shareSum:{text:"分享仪表盘数",amount:0,addAmount:0},deviceProportion:{tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},color:["rgb(29,124,250)","rgb(252,113,142)"," rgb(0,248,255)"],series:[{name:"设备使用占比",type:"pie",radius:["30%","40%"],center:["50%","55%"],data:[{value:150,name:"平板"},{value:250,name:"移动端"},{value:100,name:"PC端"}],label:{normal:{formatter:"{b|{b}：}\n{per|{d}%}",rich:{b:{fontSize:12,color:"#fff",align:"left"},per:{fontSize:15,lineHeight:25,align:"left"}}}},itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},deviceProportionObj:{text:"访客来源占比"},distribution:{tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},color:["rgb(29,124,250)","rgb(252,113,142)"," rgb(0,248,255)"],series:[{name:"项目结构占比",type:"pie",radius:"40%",center:["50%","55%"],roseType:"radius",data:[{value:335,name:"已删除项目"},{value:310,name:"当前项目"},{value:234,name:"可创建项目"}],label:{normal:{formatter:"{b|{b}:}\n{per|{d}%}",rich:{b:{fontSize:12,color:"#fff",align:"left"},per:{fontSize:15,lineHeight:25,align:"left"}}}},itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},distributionObj:{text:"项目结构"},sevenDaysData:{tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{icon:"circle",itemWidth:7,itemHeiht:7,top:30,itemGap:2,textStyle:{color:"#FFF",fontSize:12,padding:[0,10,0,0]}},grid:{x:33,x2:19,y2:25},xAxis:[{type:"category",boundaryGap:!1,data:["周一","周二","周三","周四","周五","周六","周日"],axisLabel:{textStyle:{color:"#fff",fontSize:10,fontWeight:"100"}}}],yAxis:[{type:"value",boundaryGap:!1,axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{textStyle:{color:"#fff",fontSize:10,fontWeight:"100",formatter:function(t){var e=[];return 0==t?e.push("woo"):t<=1?e.push("好"):t<=2?e.push("很好"):t<=3?e.push("非常好"):e.push("完美"),e}}}}],series:[{name:"7天浏览量",type:"line",symbol:"none",roseType:"radius",itemStyle:{normal:{color:"rgb(29,124,250)",areaStyle:{type:"default",color:"rgb(29,124,250)"}}},data:[44,433,362,84,41,442,354]},{name:"7天访客量",symbol:"none",roseType:"radius",type:"line",itemStyle:{normal:{color:"rgb(13,194,253)",areaStyle:{type:"default"}}},data:[30,182,434,71,390,30,10]},{name:"7天打开量",symbol:"none",roseType:"radius",type:"line",itemStyle:{normal:{color:"rgb(252,113,142)",areaStyle:{type:"default"}}},data:[120,132,601,234,120,90,20]}]},sevenDaysDataObj:{text:"7天数据"},happening:{tooltip:{formatter:function(t){return t.name+":"+t.data.value[2]+"人"}},legend:{show:!1,bottom:"0",right:"3%",textStyle:{color:"#fff"}},geo:{map:"china",aspectScale:.8,zoom:1.2,label:{normal:{show:!1},emphasis:{show:!1}},roam:!1,itemStyle:{normal:{areaColor:"rgb(28,36,51)",borderColor:"rgb(39,169,238)"},emphasis:{areaColor:"rgb(34,108,151)"}}},series:[{name:"访客",type:"effectScatter",coordinateSystem:"geo",data:[],symbolSize:30,label:{normal:{show:!1},emphasis:{show:!1}},itemStyle:{normal:{color:"rgb(252,113,142,0.5)",shadowBlur:10}}},{name:"访客",type:"scatter",coordinateSystem:"geo",data:[],symbolSize:10,showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!1,label:{normal:{formatter:"{b}",position:"right",show:!1},emphasis:{show:!1}},itemStyle:{normal:{color:"rgb(252,113,142)",shadowBlur:10,shadowColor:"#333"}}}]},imitationData:[{name:"项目1",number:99,width:"100%"}]}},methods:{setIntervalFn:function(t){setInterval((function(){var e=t.series[0].data;e.shift(),e.push(300*Math.random()),t.series[0].data=e}),3e3)},close:function(t){this.indexDialog=t}},mounted:function(){var t=this;this.$get("api/centerControl").then((function(e){if("000000"==e.code){var a=function(t){return t||0};t.today_visitor.amount=a(e.data[0].today_visitor),t.total_visitor.amount=a(e.data[0].total_visitor),t.projectSum.amount=a(e.data[0].projectSum),t.shareSum.amount=a(e.data[0].shareSum);var i=e.data[0].heatProject;function s(t){for(var e=t.length,a=0;a<e-1;a++)for(var i=0;i<e-1-a;i++)if(t[i].number||(t[i].number=0),t[i+1].number||(t[i+1].number=0),t[i].number<t[i+1].number){var s=t[i];t[i]=t[i+1],t[i+1]=s}return t}t.deviceProportion.series[0].data=[{name:"PC端",value:a(e.data[0].pc_device)},{name:"平板",value:a(e.data[0].ipad_device)},{name:"移动端",value:a(e.data[0].mobile_device)}];var o=function(t,e,a){var i=[];if(t)if(0==a){for(var s=0;s<t.length;s++)t[s].width="100%",t[s].number=0;i=t}else for(var o=0;o<t.length;o++){if(0==t[o].number)break;t[o].width=parseInt(100*t[o].number/e)+"%",i.push(t[o])}return i};console.log(i),i.length>0?(i=s(i),0!=i[0].number&&i[0].number?t.imitationData=o(i,i[0].number,1):t.imitationData=o(i,100,0)):t.imitationData=[];for(var n=e.data.visitorStatus||[],r=[],l=0;l<n.length;l++)n[l].site=T(n[l].site[0],n[l].site[1]),n[l].site.push(n[l].Number),r.push({name:n[l].siteName,value:n[l].site});t.happening.series[1].data=r;for(var c=e.data[0].structure,h=[],u=0;u<c.length;u++)!c[u].varlue&&c[u].name&&(c[u].varlue=0),h.push({name:c[u].name,value:c[u].varlue});t.distribution.series[0].data=h}})),localStorage.getItem("indexDialog")?"false"===localStorage.getItem("indexDialog")&&(this.indexDialog=!1):localStorage.setItem("indexDialog",!1)}},Q=Z,tt=(a("ca17"),Object(h["a"])(Q,i,s,!1,null,"6483304a",null));e["default"]=tt.exports}}]);
//# sourceMappingURL=PrimaryRouter3.ee9b25fc.js.map