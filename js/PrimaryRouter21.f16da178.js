(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["PrimaryRouter21"],{"17ed":function(e,t,n){"use strict";var i=n("a43d"),a=n.n(i);a.a},"8e46":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"big-box"},[n("div",{staticClass:"container"},[n("div",{staticClass:"container-header"},[n("div",{staticClass:"container-header-left"},[n("span",{staticClass:"span-header"},[e._v("全部可视化")]),n("span",{staticClass:"already-created"},[e._v("已创建")]),n("span",{staticClass:"span-data"},[e._v(e._s(e.createdNum))]),n("span",{staticClass:"can-created"},[e._v("可创建")]),n("span",{staticClass:"span-data"},[e._v(e._s(e.canCreatedNum))])]),n("div",{staticClass:"search-box"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.searchVal,expression:"searchVal",modifiers:{trim:!0}}],staticClass:"search-input",attrs:{type:"text",placeholder:"搜索可视化"},domProps:{value:e.searchVal},on:{input:function(t){t.target.composing||(e.searchVal=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),n("span",{staticClass:"biFont icon-search"})])]),n("div",{staticClass:"content-body"},[n("easy-scroll",{attrs:{barOption:e.scrollOpt}},[n("div",{staticClass:"content-body-wrapper"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowBtn,expression:"isShowBtn"}],staticClass:"add-new",on:{click:function(t){return e.throttleCreateVisual(["新建可视化"])}}},[n("span",{staticClass:"biFont icon-add"}),n("div",[e._v("新建可视化")])]),e._l(e.searchscreenList,(function(t,i){return n("div",{key:t.id},[n("div",{staticClass:"content",class:{actived:t.show||t.isShowEdit}},[n("div",{staticClass:"editMask",class:{transparent:t.show}},[n("div",{staticClass:"btn-wrapper allCenter"},[n("span",{staticClass:"biFont icon-edit2",on:{click:function(n){return e.toScreen(t)}}},[n("span",{staticClass:"tips aCenter"},[e._v("编辑")])]),n("span",{staticClass:"biFont icon-preview3",on:{click:function(n){return e.preview(t.id)}}},[n("span",{staticClass:"tips aCenter"},[e._v("预览")])])])]),n("div",{staticClass:"optionsDiv"},[n("span",{staticClass:"biFont icon-setting item-options",class:{"add-class":t.show},on:{mouseup:function(n){return n.stopPropagation(),e.addMoreDiv(t)}}}),n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:{fn:e.hideMoreMenu},expression:"{fn:hideMoreMenu}"},{name:"show",rawName:"v-show",value:t.show,expression:"item.show"}],staticClass:"content-header-more",on:{mousedown:function(e){e.stopPropagation()}}},[n("ul",e._l(e.itemIconList,(function(a,s){return n("li",{key:a.id,on:{click:function(n){return e.choiceItem(i,s,t)}}},[n("span",{staticClass:"biFont",class:"icon-"+a.iconName}),e._v(" "+e._s(a.name)+" ")])})),0)])]),n("img",{staticClass:"content-bg",attrs:{src:t.screenShot?t.screenShot:e.defaultBg}}),n("div",{staticClass:"content-footer"},[n("div",{staticClass:"title"},[n("div",{staticClass:"rename-box"},[n("div",{staticClass:"input-box",attrs:{title:t.name}},[n("span",{ref:"widthCalc",refInFor:!0,staticClass:"hidden input-hidden"},[e._v(e._s(t.name))]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"item.name",modifiers:{trim:!0}}],ref:"editInput",refInFor:!0,staticClass:"edit-input",class:{readonly:!t.isShowEdit},attrs:{id:i,type:"text",spellcheck:"false",autocomplete:"off"},domProps:{value:t.name},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.preventDefault(),e.filter(t))},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.keyBlur(t)},input:[function(n){n.target.composing||e.$set(t,"name",n.target.value.trim())},function(n){return e.widthChange(t,i,n)}],blur:[function(n){return e.inputBlur(i,t)},function(t){return e.$forceUpdate()}]}})])])]),n("div",{staticClass:"projectInfo"},[e._v(" "+e._s(t.time)+" ")])])])])})),e.isShowModal?n("Modal",{ref:"modal",attrs:{options:e.promptData},on:{setTips:e.nameCheck}}):e._e()],2)])],1)]),n("PreViewModal",{attrs:{"data-class":"unableDeactive"}})],1)},a=[],s=(n("99af"),n("7db0"),n("4160"),n("caad"),n("baa5"),n("a434"),n("b0c0"),n("d3b7"),n("ac1f"),n("5319"),n("841c"),n("1276"),n("498a"),n("159b"),n("5530")),r=(n("96cf"),n("1da1")),c=n("41ce"),o=n("9097"),u=n("48e7"),d=n("2f62"),l="data:image/png;base64,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",h={name:"Visualization",components:{Modal:c["a"],PreViewModal:o["a"]},data:function(){var e=this;return{throttleCreateVisual:function(){},isShowBtn:!0,isShowMore:!1,isShowInput:!1,newPlaceholder:"",lastChar:"",searchVal:"",createdNum:10,canCreatedNum:7,isActiveEdit:-1,isActiveTips:-1,isMoreIndex:-1,OperandIndex:-1,rename:"",isShowModal:!1,Operand:{},defaultBg:l,token:Object(u["b"])("token"),screenShotList:[],itemIconList:[{id:0,name:"重命名",iconName:"edit"},{id:1,name:"分享",iconName:"share"},{id:2,name:"删除",iconName:"delete"}],screenList:[],promptData:{},createScreenData:{title:"新建可视化",icon:"biFont icon-builtNew",describe:"",inputType:"text",placeholder:"请输入可视化名称",name:[""],boxWidth:29.3,inputWidth:20.8,tipsMessage:"",isVisual:!0,btn:[{text:"确定",callback:function(){e.nameCheck(e.newPlaceholder,!0)}},{text:"取消",callback:function(){e.isShowModal=!1,e.createScreenData.tipsMessage=""}}],enterKeyEventIndex:0,escKeyEventIndex:1},deleteScreenData:{title:"提示!",describe:"是否删除该项目？",inputType:"text",placeholder:"",name:[],btn:[{text:"确认",throttle:!0,callback:function(){e.deleteScreen(e.Operand)}},{text:"取消",callback:function(){e.isShowModal=!1}}],enterKeyEventIndex:0,escKeyEventIndex:1},scrollOpt:{barColor:"#343a47",barWidth:6,railColor:"#000000",barMarginRight:6,barOpacityMin:.3}}},methods:{addHover:function(e){this.isActiveEdit=e},removeHover:function(){this.isActiveEdit=null},addHoverTips:function(e){this.isActiveTips=e},removeHoverTips:function(){this.isActiveTips=-1},addMoreDiv:function(e){this.hideMoreMenu(),e.show=!e.show},hideMoreMenu:function(e){var t=this;e?this.$set(e,"show",!1):this.screenList.forEach((function(e){t.$set(e,"show",!1)}))},toScreen:function(e){localStorage.setItem("fatherProjectId",e.id),localStorage.setItem("fatherProjectName",e.name);localStorage.getItem("fatherProjectId");this.$router.push({name:"screen"})},showInput:function(e,t){this.rename=e.name;var n=this.rename.length;this.$set(e,"isShowEdit",!0);var i=this.$refs.editInput.find((function(e){return e.id==t}));i.focus(),i.selectionStart=n,i.selectionEnd=n;var a=this.getEditInputId(t);this.$refs.editInput[a].select()},getEditInputId:function(e){for(var t=this.$refs.editInput,n=0;n<t.length;n++)if(t[n].id==e)return n},inputBlur:function(e,t){var n=t.name;if(this.$set(t,"name",n.replace(/[^\u4e00-\u9fa5w|a-zA-Z0-9\s|.()]/g,"")),t.isShowEdit=!1,this.Operand=t,this.lastChar="",console.log(this.rename,t.name,this.rename==t.name),this.rename&&t.name&&this.rename!=t.name){var i=this.nameRules([t.name],e);return"命名成功"!==i?(this.tips.show([i]),void this.$set(this.screenList[e],"name",this.rename)):(this.renameScreen(),!1)}t.name||(this.$set(this.screenList[e],"name",this.rename),this.tips.show(["可视化名称不能为空"]))},keyBlur:function(e){var t=e.target||e.srcElement;t.blur()},widthChange:function(e,t,n){if(n.isComposing||(this.lastChar=""),this.lastChar.lastIndexOf(n.data)>-1&&n.isComposing){var i=e.name.length,a=e.name.substr(0,i-2);this.$set(e,"name",a)}if(n.data&&n.isComposing){var s=n.data.length,r=n.data[s-1],c=e.name+r;this.$set(e,"name",c),this.lastChar=n.data}},createVisual:function(e){this.isShowModal=!0,this.promptData=this.createScreenData},initProject:function(){var e=this;e.screenList=[];var t=e.token;e.$get("api/project",{token:t}).then((function(t){if("000000"==t.code){var n=t.data;n.forEach((function(t){e.$set(t,"show",!1),e.$set(t,"bgUrl",e.defaultBg),e.$set(t,"isShowEdit",!1)})),e.screenList=n,console.log(e.screenList)}})).catch((function(e){console.log(e)})),e.createdNum=e.screenList.length,e.canCreatedNum=10-e.createdNum},choiceItem:function(e,t,n){var i=this;this.Operand=n,this.OperandIndex=e;var a={0:function(){console.log(e,t,n),i.showInput(n,e)},1:function(){i.$get("api/project",{projectId:i.screenList[e].id}).then((function(e){sessionStorage.setItem("projectId",e.data[0].id),i.$store.commit("canvasPlace/setStateProperty",{key:"shareType",value:1})}))},2:function(){i.promptData=i.deleteScreenData,i.isShowModal=!0}};a[t]&&a[t](),this.hideMoreMenu(n)},deleteScreen:function(e){var t=this,n={id:e.id,type:"father"};t.$del("/api/project",n).then((function(e){"000000"==e.code?(t.screenList.splice(t.OperandIndex,1),t.OperandIndex=-1,t.isShowModal=!1,t.tips.show(["项目删除成功",!0])):t.tips.show([e.err_msg.split(":")[1]])})).catch((function(e){t.tips.show(["项目删除失败"]),console.error(e)}))},renameScreen:function(){var e=this,t={id:e.Operand.id,name:e.Operand.name};e.$put("api/project",t).then((function(t){"000000"==t.code?(e.isActiveEdit=-1,e.tips.show(["可视化重命名成功",!0]),e.rename=""):e.tips.show([t.err_msg.split(":")[1]])})).catch((function(t){e.tips.show(["可视化重命名失败"])}))},newVisual:function(){this.isShowModal=!0,this.promptData=this.createScreenData},preview:function(e){var t=this;function n(e){return i.apply(this,arguments)}function i(){return i=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a(t);case 2:return n=e.sent,e.next=5,s(n);case 5:i=e.sent,i&&(r="".concat(window.location.host,"/previewPages?share_sn=").concat(i.share_sn,"&password=").concat(i.password),window.open(window.location.protocol+"//"+r,"_blank"));case 7:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}function a(e){return new Promise((function(n,i){t.$get("api/project",{projectId:e}).then((function(e){"000000"==e.code?n(e.data[0]["id"]):(t.tips.show([e.err_msg]),i(e.err_msg))})).catch((function(e){console.error(e)}))}))}function s(e){return new Promise((function(n,i){var a={project_sn:e,share_type:1,is_pwd:0};t.$get("api/shareUnique",a).then((function(e){"000000"==e.code?n(e.data):i(e.err_msg)})).catch((function(e){t.tips.show(["获取预览链接失败"]),console.error(e)}))}))}n(e)},visualCreate:function(e){var t=this,n=this,i={type:"father",name:e[0],dashboardWidth:1920,dashboardHeight:1020,zoomLevel:.7};n.screenList.forEach((function(e,t){e.name==i.name&&(i.name=i.name+"("+(t+1)+")")})),console.log(i),n.$post("api/project",i).then((function(e){if("000000"==e.code){n.isShowModal=!1;var i=e.data;n.$set(i,"screenShot",n.defaultBg),n.screenList.unshift(i),n.tips.show(["可视化创建成功",!0]),t.toScreen(i)}else n.tips.show([e.err_msg.split(":")[1]])})).catch((function(e){n.tips.show(["可视化创建失败"])}))},nameCheck:function(e,t){var n;if(this.newPlaceholder=e,this.createScreenData.tipsMessage="","string"===typeof e&&(e=Array(e)),n=this.nameRules(e),"命名成功"!=n)this.createScreenData.tipsMessage=n;else{if(!t)return;this.visualCreate(e),this.createScreenData.tipsMessage=""}},nameRules:function(e,t){var n,i=e[0],a="",s=[];return this.screenList.forEach((function(e){s.push(e.name)})),"undefined"!==typeof t&&s.splice(t,1),i&&(n=s.includes(i.trim())),a=i&&""!=i.trim()?n?"该名称已重复":this.getNameLen(i)>29?"已达最大长度":"命名成功":"该名称不能为空",a},getNameLen:function(e){return null==e?0:("string"!=typeof e&&(e+=""),e.replace(/[^\x00-\xff]/g,"01").length)},clearVisualPopup:function(){}},beforeMount:function(){this.throttleCreateVisual=Object(u["g"])(this.createVisual,1e3)},mounted:function(){this.initProject()},watch:{creatVisual:function(){"await"!==this.creatVisual&&this.throttleCreateVisual(["新建可视化"])},computedCount:function(e){this.createdNum=e,this.canCreatedNum=10-this.createdNum,0===this.canCreatedNum?this.isShowBtn=!1:this.isShowBtn=!0}},computed:Object(s["a"])({},Object(d["c"])("voiceCommand",{creatVisual:"getVisual"}),{computedCount:function(){return this.screenList.length||0},searchscreenList:function(){var e=this,t=[];return e.screenList.forEach((function(n){-1!==n.name.search(e.searchVal)&&t.push(n)})),t.length>0?t:e.screenList},vw:function(){return this.$store.state.main.vw},vh:function(){return this.$store.state.main.vh},reactiveScrollOpt:function(){return Object(s["a"])({},this.scrollOpt,{barWidth:.4*this.vw})}})},p=h,f=(n("17ed"),n("0c7c")),m=Object(f["a"])(p,i,a,!1,null,"0cbaa732",null);t["default"]=m.exports},a43d:function(e,t,n){}}]);
//# sourceMappingURL=PrimaryRouter21.f16da178.js.map